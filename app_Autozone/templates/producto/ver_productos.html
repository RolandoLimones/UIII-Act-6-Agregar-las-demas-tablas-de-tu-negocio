{% extends 'base.html' %}
{% block title %}Ver Productos{% endblock %}
{% block content %}
<div class="card p-3">
  <h4>Lista de Productos</h4>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Foto</th>
        <th>Nombre</th>
        <th>Cantidad</th>
        <th>Proveedor</th>
        <th>Precio</th>
        <th>Almac√©n</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for p in productos %}
      <tr>
        <td>
          {% if p.foto %}
            <img src="{{ p.foto.url }}" alt="{{ p.nombre_producto }}" style="width: 50px; height: 50px; object-fit: cover;">
          {% else %}
            <div style="width: 50px; height: 50px; background: #f8f9fa; display: flex; align-items: center; justify-content: center;">
              <i class="bi bi-image"></i>
            </div>
          {% endif %}
        </td>
        <td>{{ p.nombre_producto }}</td>
        <td>{{ p.cantidad }}</td>
        <td>{{ p.proveedor.nombre }}</td>
        <td>${{ p.precio }}</td>
        <td>{{ p.almacen.nombre }}</td>
        <td>
          <a class="btn btn-sm btn-info" href="{% url 'actualizar_producto' p.id %}">Editar</a>
          <a class="btn btn-sm btn-danger" href="{% url 'borrar_producto' p.id %}">Borrar</a>
        </td>
      </tr>
      {% empty %}
      <tr><td colspan="7">No hay productos registrados.</td></tr>
      {% endfor %}
    </tbody>
  </table>
  <a class="btn btn-success" href="{% url 'agregar_producto' %}">Agregar Producto</a>
</div>
{% endblock %}